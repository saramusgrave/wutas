@using KlamathIrrigationDistrict.DataLayer.DataModels
@*@using PagedList.Mvc;
@model PagedList.IPagedList<DitchRiderRequests>*@
@model List<DitchRiderRequests>
@{ 
    ViewBag.Title = "KID D.R.: Customers";
    Layout = "~/Views/Shared/DitchRidersMenue.cshtml";
}
<body>
    <input type="search" id="SearchCustomers" onkeyup="SearchCustomersFn()" placeholder="Search Customers by Name" title="Type in a name" />
    <div style="overflow-x: auto;">
        <table class="ActiveRequests" id="ActiveRequests">
            <caption>Customers</caption>
            <tr>                
                <th>@Html.Label("Name")</th>
                <th>@Html.Label("Structure")</th>
                <th>@Html.Label("Lateral")</th>
                <th>@Html.Label("Current Allotment")</th>
                @*<th>@Html.Label("Total Allotment")</th>*@
                <th>@Html.Label("Log Water")</th>
                <th colspan="2">@Html.Label("Activity")</th>
                <th>@Html.Label("Violations")</th>
            </tr>
            @for (int i = 0; i < Model.Count; i++)          
            {
                <tr>
                    <td>@Model[i].CustomerName</td>
                    <td>@Model[i].Structure</td>
                    <td>@Model[i].Lateral</td>
                    <td>@Model[i].CurrentAllotment</td>
                    @*<td>@Model[i].TotalAllotment</td>*@                                       
                    <td>@Html.ActionLink("On", "AddRequestOn", new { @Structure = Model[i].Structure, @id = Url.RequestContext.RouteData.Values["id"] })</td>
                    <td>@Html.ActionLink("History", "CustomerHistory", new { @CustomerID = Model[i].CustomerID, @id = Url.RequestContext.RouteData.Values["id"] })</td>
                    <td>@Html.ActionLink("Recent" , "CustomerRHistory", new { @CustomerID = Model[i].CustomerID, @id = Url.RequestContext.RouteData.Values["id"] })</td>
                    <td>1</td>
                </tr>
            }
        </table>
    </div>
    @*<div class="pagination" style="margin-left: 20px;">
        Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
        of @Model.PageCount @Html.PagedListPager(Model, page => Url.Action("Customers4", new { page }))
    </div><br />*@
</body>