@using KlamathIrrigationDistrict.DataLayer.DataModels
@using PagedList.Mvc;
@model PagedList.IPagedList<Customers>
@*@model Customers*@
    @{ 
        ViewBag.Title = "Customer: Home Page";
    }
<head>
    <title>Customer: Home Page</title>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="~/Styles/Customers.css" />
    <link rel="stylesheet" href="~/Scripts/KIDDitchRidersJS.js" />
    @*<script src="~/Scripts/KIDDitchRidersJS.js"></script>*@
</head>
<!--Menu-->
<header id="Menu">
    <ul>
        <li><label class="FirstLast">@User.Identity.Name</label></li>
        <li class="dropdown">
            <a id="active" href="./Index">Requests</a>
            <div class="dropdownRequest" style="overflow-x: auto;">
                <a href="./CustomerAddRequest">Add Request</a>
                <a href="./CustomerWaitList">Waitlist</a>
            </div>
        </li>

        @*<li><a id="active" href="./Index">Requests</a></li>*@
        <li><a href="./CustomerWaterHistory">History</a></li>
        <li><a href="Customers/ContactsPage">Contacts</a></li>
        <li><a href="./CustomerProfile">Profile</a></li>

        <a href="../KIDLogInPageHTML.html"><button class="LogOutBtn">Log Out</button></a>
        @*<li><label class="Total Allotment"></label></li>*@
        <li>
            <div style="overflow-x: auto;">
                <table class="Contacts">
                    <tr>
                        <th>@Html.Label("Current Allotment")</th>
                        <th colspan="2">@Html.Label("Total Allotment")</th>
                    </tr>
                    <tr>
                        <th>@Model[1].CurrentAllotment</th>
                        <th>@Model[1].TotalAllotment</th>
                    </tr>
                </table>
            </div>
            <!--testing the display for customer allotment-->
            @*Allotment
            <var>@Model[1].TotalAllotment</var>*@

        </li>
    </ul>
</header>
<body>
    @* AddRequest will allow use to apply for water request *@

    


    <div style="overflow-x: auto;">
        <table class="Contacts">
            <caption>Active Request (On)</caption>
            <tr>
                <th>@Html.Label("RequestID")</th>
                <th>@Html.Label("Structure")</th>
                <th>@Html.Label("CFS Requesting")</th>
                <th>@Html.Label("Date")</th>
                <th>@Html.Label("Comments")</th>
                @*<th>@Html.Label("Staff")</th>
                <th>@Html.Label("Respond Date")</th>
                <th>@Html.Label("Staff Comments")</th>*@
                @*<th>@Html.Label("Status")</th>*@

            </tr>
            @* Allow the user to input into 'Active Request' -> add a request *@
            @for (int i = 0; i < Model.Count; i++)
            {
            <tr>
                <td>@Model[i].RequestID</td>
                <td>@Model[i].Structure</td>
                @*<td>@Html.TextBoxFor(Model => Model[i].CustomerCFS_1, new { @Type = "number" })</td>*@
                <td>@Model[i].CustomerCFS_1</td>
                <td>@Model[i].CustomerDate1.ToShortDateString()</td>
                @*<td>@Html.TextAreaFor(Model => Model[i].CustomerComments_1)</td>*@
                <td>@Model[i].CustomerComments_1</td>
                @*<td>@Model[i].RequestStatus1</td>
                <td>@Model[i].StaffName_1</td>
                <td>@Model[i].StaffDate1.ToShortDateString()</td>
                <th>@Model[i].StaffComments1</th>*@
            </tr>
            }
        </table>
    </div>
    <div class="pagination" style="margin-left: 20px;">
        Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
        of @Model.PageCount @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
    </div>

    @*@Html.Partial("_ActiveCustomerRequest")*@

    @*<div style="overflow-x: auto;">
            <!--Wait List class=Contacts-->
            <table class="Contacts">
                <caption>Wait List</caption>
                <tr>
                    <th>Number</th>
                    <th>Structure</th>
                    <th>Date</th>
                    <th>CFS</th>
                    <th>Comments</th>
                    <th>Note</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>
                        T5832
                    </td>
                    <td>08/12/17</td>
                    <td><input type="CFS" value="4" disabled></td>
                    <td>
                        <input type="Comments" placeholder="Comments..." disabled>
                    </td>
                    <td>Ditch Rider will call when you are removed from wait list.</td>
                </tr>
            </table>
        </div>*@
</body>